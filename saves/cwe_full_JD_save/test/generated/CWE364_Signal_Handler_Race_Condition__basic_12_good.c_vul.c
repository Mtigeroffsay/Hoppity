void helperBad ( int sig ) { if (  CWE364_Signal_Handler_Race_Condition__basic_12StructSigAtomicBad  !=  NULL  ) {   CWE364_Signal_Handler_Race_Condition__basic_12StructSigAtomicBad  ->  val   =  2  ; } } void helperGood ( int sig ) { if (  CWE364_Signal_Handler_Race_Condition__basic_12StructSigAtomicGood  !=  NULL  ) {   CWE364_Signal_Handler_Race_Condition__basic_12StructSigAtomicGood  ->  val   =  2  ; } } void name_0 ( ) { if (  globalReturnsTrueOrFalse  ( ) ) { { structSigAtomic  * gStructSigAtomic  =  NULL  ;  signal  ( SIGINT SIG_DFL ) ; if (  CWE364_Signal_Handler_Race_Condition__basic_12StructSigAtomicBad  !=  NULL  ) {  free  ( CWE364_Signal_Handler_Race_Condition__basic_12StructSigAtomicBad ) ;  CWE364_Signal_Handler_Race_Condition__basic_12StructSigAtomicBad  =  NULL  ; }  gStructSigAtomic  =  ( structSigAtomic * )   malloc  ( sizeof ( structSigAtomic ) )   ; if (  gStructSigAtomic  ==  NULL  ) {  exit  ( -  1  ) ; }  CWE364_Signal_Handler_Race_Condition__basic_12StructSigAtomicBad  =  gStructSigAtomic  ;   CWE364_Signal_Handler_Race_Condition__basic_12StructSigAtomicBad  ->  val   =  1  ;  signal  ( SIGINT helperBad ) ; if (  CWE364_Signal_Handler_Race_Condition__basic_12StructSigAtomicBad  !=  NULL  ) {  free  ( CWE364_Signal_Handler_Race_Condition__basic_12StructSigAtomicBad ) ;  CWE364_Signal_Handler_Race_Condition__basic_12StructSigAtomicBad  =  NULL  ; } } } else { { structSigAtomic  * gStructSigAtomic  =  NULL  ;  signal  ( SIGINT SIG_DFL ) ; if (  CWE364_Signal_Handler_Race_Condition__basic_12StructSigAtomicGood  !=  NULL  ) {  free  ( CWE364_Signal_Handler_Race_Condition__basic_12StructSigAtomicGood ) ;  CWE364_Signal_Handler_Race_Condition__basic_12StructSigAtomicGood  =  0  ; }  gStructSigAtomic  =  ( structSigAtomic * )   malloc  ( sizeof ( structSigAtomic ) )   ; if (  gStructSigAtomic  ==  NULL  ) {  exit  ( -  1  ) ; }  CWE364_Signal_Handler_Race_Condition__basic_12StructSigAtomicGood  =  gStructSigAtomic  ;   CWE364_Signal_Handler_Race_Condition__basic_12StructSigAtomicGood  ->  val   =  1  ;  signal  ( SIGINT helperGood ) ;  signal  ( SIGINT SIG_DFL ) ; if (  CWE364_Signal_Handler_Race_Condition__basic_12StructSigAtomicGood  !=  NULL  ) {  free  ( CWE364_Signal_Handler_Race_Condition__basic_12StructSigAtomicGood ) ;  CWE364_Signal_Handler_Race_Condition__basic_12StructSigAtomicGood  =  NULL  ; }  signal  ( SIGINT helperGood ) ; } } } int main ( int argc char * argv [ ] ) {  srand  ( ( unsigned )   time  ( NULL )  ) ;  name_0  ( ) ; return 0 ; } 